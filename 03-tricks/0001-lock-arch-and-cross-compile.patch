From 7b46a7073f33a0ff8fbbb22eb7b58a34d77a933a Mon Sep 17 00:00:00 2001
From: Icenowy <icenowy@outlook.com>
Date: Sun, 12 Jul 2015 22:06:50 +0800
Subject: Some Makefile modifications

Signed-off-by: Icenowy <icenowy@outlook.com>
---
 Makefile | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/Makefile b/Makefile
index f5c8983..106ee91 100644
--- a/Makefile
+++ b/Makefile
@@ -249,8 +249,8 @@ SUBARCH := $(shell uname -m | sed -e s/i.86/x86/ -e s/x86_64/x86/ \
 # "make" in the configured kernel build directory always uses that.
 # Default value for CROSS_COMPILE is not to prefix executables
 # Note: Some architectures assign CROSS_COMPILE in their arch/*/Makefile
-ARCH		?= $(SUBARCH)
-CROSS_COMPILE	?= $(CONFIG_CROSS_COMPILE:"%"=%)
+ARCH		?= mips
+CROSS_COMPILE	?= /opt/abcross/mipsel/bin/mips64el-linux-gnuabin32-
 
 # Architecture as present in compile.h
 UTS_MACHINE 	:= $(ARCH)
@@ -823,6 +823,8 @@ export INSTALL_DTBS_PATH ?= $(INSTALL_PATH)/dtbs/$(KERNELRELEASE)
 # makefile but the argument can be passed to make if needed.
 #
 
+export INSTALL_MOD_PATH ?= $(PWD)/fakeinst
+
 MODLIB	= $(INSTALL_MOD_PATH)/lib/modules/$(KERNELRELEASE)
 export MODLIB
 
-- 
2.4.4

